# =============================================================================
# BitingLip Platform - Master Configuration
# =============================================================================
# This is the centralized configuration file for the entire BitingLip platform.
# All services inherit these values unless overridden locally.

# Environment
ENVIRONMENT=development
DEBUG=true

# =============================================================================
# Service Port Allocation (Standardized)
# =============================================================================
GATEWAY_PORT=8080
TASK_MANAGER_PORT=8084
MODEL_MANAGER_PORT=8085
CLUSTER_MANAGER_PORT=8083

# Service Host Configuration
GATEWAY_HOST=localhost
TASK_MANAGER_HOST=localhost
MODEL_MANAGER_HOST=localhost
CLUSTER_MANAGER_HOST=localhost

# =============================================================================
# Infrastructure Services
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# =============================================================================
# Celery Configuration (Shared)
# =============================================================================
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true

# =============================================================================
# Common API Configuration
# =============================================================================
API_HOST=0.0.0.0
DEFAULT_TIMEOUT=300
MAX_TIMEOUT=1800
RATE_LIMIT_REQUESTS_PER_MINUTE=60

# =============================================================================
# Security (Global)
# =============================================================================
API_KEY_REQUIRED=false
CORS_ORIGINS=*
JWT_SECRET_KEY=change-in-production

# =============================================================================
# Monitoring & Observability
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
ENABLE_PROMETHEUS=true
PROMETHEUS_PORT=9090
HEALTH_CHECK_INTERVAL=30

# =============================================================================
# Service-Specific Configurations
# =============================================================================

# Task Manager
TASK_RETRY_LIMIT=3
MAX_CONCURRENT_TASKS=100
TASK_QUEUE_NAME=gpu_queue

# Model Manager  
MODEL_CACHE_DIR=./models
MAX_MODEL_CACHE_SIZE_GB=50.0
MODEL_LOAD_TIMEOUT=300

# Cluster Manager
GPU_MEMORY_FRACTION=0.9
MAX_WORKERS_PER_GPU=1
WORKER_HEALTH_CHECK_INTERVAL=60

# Gateway Manager
GATEWAY_REQUEST_TIMEOUT=30
GATEWAY_RETRY_ATTEMPTS=3
GATEWAY_CIRCUIT_BREAKER_THRESHOLD=5
